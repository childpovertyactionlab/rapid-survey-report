"0",""
"0","df %>%"
"0","  group_by(CPAL.DEMO.007.2) %>%"
"0","  tally() %>%"
"0","  mutate(prop = n/sum(n)) %>%"
"0","  ggplot(aes(x = """", y = prop, fill = CPAL.DEMO.007.2)) +"
"0","  geom_bar(width = 1, stat = ""identity"") +"
"0","  coord_polar(theta = ""y"", start = 0) +"
"0","  geom_text(aes(x = 1.1, label = ifelse(prop > 0.05, scales::percent(prop, scale = 100, accuracy = 0.1), """")), "
"0","            position = position_stack(vjust = 0.5), colour = ""white"", size = 8) +"
"0","  labs(fill = ""Race"") +"
"0","  theme_minimal() +"
"0","  theme("
"0","    legend.position = ""left"","
"0","    legend.text = element_text(size=14),"
"0","    axis.text = element_blank(),"
"0","    axis.ticks = element_blank(),"
"0","    axis.title = element_blank(),"
"0","    panel.grid = element_blank(),"
"0","    plot.background = element_rect(fill = ""transparent"", colour = NA),"
"0","    panel.background = element_rect(fill = ""transparent"", colour = NA),"
"0","    strip.background = element_rect(fill = ""transparent"", colour = NA)"
"0","    )"
"0",""
