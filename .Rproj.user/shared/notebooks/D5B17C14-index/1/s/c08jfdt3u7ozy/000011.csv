"0",""
"0","# df %>%"
"0","#   filter(!is.na(POVERTYLine2023), !is.na(CPAL.DEMO.007.2)) %>%"
"0","#   count(POVERTYLine2023, CPAL.DEMO.007.2) %>%"
"0","#   group_by(CPAL.DEMO.007.2) %>%"
"0","#   mutate(prop = n / sum(n)) %>%"
"0","#   ggplot(aes(x = CPAL.DEMO.007.2, y = prop, fill = interaction(CPAL.DEMO.007.2, POVERTYLine2023))) +"
"0","#   geom_bar(stat = ""identity"", position = ""stack"", width = 0.8) +"
"0","#   geom_text(data = . %>% filter(POVERTYLine2023 == ""Under""),"
"0","#             aes(label = scales::percent(prop), y = prop),"
"0","#             color = ""white"", size = 4, "
"0","#             # position = position_stack(vjust = 0.5)"
"0","#             ) +"
"0","#   scale_fill_manual(values = c(scales::alpha(palette_cpal_main[c(1:4,6:9)], 0.5), palette_cpal_main[c(1:4,6:9)]), "
"0","#                     # name = ""Race"","
"0","#                     # breaks = unique(interaction(df$CPAL.DEMO.007.2, df$POVERTYLine2023)),"
"0","#                     labels = rep(unique(df$CPAL.DEMO.007.2), 2)) + "
"0","#   labs(title = NULL, x = NULL, y = NULL) +"
"0","#   scale_y_continuous(labels = scales::percent) +"
"0","#   theme_minimal() +"
"0","#   theme("
"0","#     axis.text = element_blank(),"
"0","#     axis.title = element_blank(),"
"0","#     axis.ticks = element_blank(),"
"0","#     panel.grid = element_blank()"
"0","#   )"
"0",""
