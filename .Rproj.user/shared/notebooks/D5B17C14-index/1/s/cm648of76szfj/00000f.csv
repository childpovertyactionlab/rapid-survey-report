"0",""
"0","# palette_cpal_main[1] blue"
"0","# palette_cpal_main[2] red"
"0","# #808080 grey"
"0",""
"0","df %>%"
"0","  filter(!is.na(CPAL.BEN.001.b)) %>%"
"0","  mutate(CPAL.BEN.001.b = case_when("
"0","    CPAL.BEN.001.b == 1 ~ ""Yes"","
"0","    CPAL.BEN.001.b == 0 ~ ""No"","
"0","    CPAL.BEN.001.b == -98 ~ ""Unsure"","
"0","  )) %>%"
"0","  group_by(CPAL.BEN.001.b) %>%"
"0","  tally() %>%"
"0","  mutate(prop = n/sum(n)) %>%"
"0","  ggplot(aes(x = """", y = prop, fill = CPAL.BEN.001.b)) +"
"0","  geom_bar(width = 1, stat = ""identity"") +"
"0","  coord_polar(theta = ""y"", start = 0) +"
"0","  geom_text(aes(x=1.1, label = ifelse(prop > 0.05, scales::percent(prop * 100, scale = 1, accuracy = 0.1), """")), "
"0","            position = position_stack(vjust = 0.5), colour = ""white"", size= 8) +"
"0","  labs(fill = """") +"
"0","  theme_minimal() +"
"0","  theme("
"0","    legend.position = ""left"","
"0","    legend.key.size = unit(2, ""lines""), "
"0","    legend.text = element_text(size = 16),"
"0","    axis.text = element_blank(),"
"0","    axis.ticks = element_blank(),"
"0","    axis.title = element_blank(),"
"0","    panel.grid = element_blank(),"
"0","    plot.background = element_rect(fill = ""transparent"", colour = NA),"
"0","    panel.background = element_rect(fill = ""transparent"", colour = NA),"
"0","    strip.background = element_rect(fill = ""transparent"", colour = NA)"
"0","  ) +"
"0","  scale_fill_manual(values = c(""Yes"" = palette_cpal_main[1], ""No"" = palette_cpal_main[2], ""Unsure"" = ""#ababab""),"
"0","                    breaks = c(""Yes"", ""No"", ""Unsure""))"
"0",""
